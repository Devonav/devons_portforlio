var O=Object.defineProperty;var F=(g,s,a)=>s in g?O(g,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):g[s]=a;var $=(g,s,a)=>F(g,typeof s!="symbol"?s+"":s,a);import{r as x,j as t,m as b,L as W}from"./index-CgcoMv2K.js";import{M as R}from"./meta-CDrZwXNR.js";import{T as L}from"./typewritingEffect-zPTS3bpe.js";class z{constructor(s){$(this,"baseUrl","https://api.github.com/graphql");$(this,"token");this.token=s||null}async fetchContributions(s,a=2025){var u,w,j;if(console.log("GitHub service - token available:",!!this.token,"token length:",(u=this.token)==null?void 0:u.length),!this.token)return console.warn("No GitHub token provided, using mock data"),this.generateMockData(a);const d=`
      query($username: String!, $from: DateTime!, $to: DateTime!) {
        user(login: $username) {
          contributionsCollection(from: $from, to: $to) {
            contributionCalendar {
              totalContributions
              weeks {
                contributionDays {
                  date
                  contributionCount
                }
              }
            }
          }
        }
      }
    `,C=new Date(a,0,1),v=new Date(a,11,31),k={username:s,from:C.toISOString(),to:v.toISOString()};console.log("Making GitHub API request:",{username:s,from:C.toISOString(),to:v.toISOString(),tokenPresent:!!this.token});try{const p=await fetch(this.baseUrl,{method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify({query:d,variables:k})});if(console.log("GitHub API response status:",p.status),!p.ok){const h=await p.text();throw console.error("GitHub API error response:",h),new Error(`GitHub API error: ${p.status} - ${h}`)}const y=await p.json();if(console.log("GitHub API raw response:",y),(j=(w=y.data)==null?void 0:w.user)!=null&&j.contributionsCollection){const h=y.data.user.contributionsCollection.contributionCalendar,T=[];return h.weeks.forEach(r=>{r.contributionDays.forEach(m=>{T.push({date:m.date,count:m.contributionCount})})}),{contributions:T,totalContributions:h.totalContributions}}throw new Error("Invalid response structure")}catch(p){return console.error("Error fetching GitHub contributions:",p),this.generateMockData(a)}}async fetchUserStats(s){try{const a=await fetch(`https://api.github.com/users/${s}`);if(!a.ok)throw new Error(`GitHub API error: ${a.status}`);const d=await a.json();return{repositories:d.public_repos||0,followers:d.followers||0,following:d.following||0,publicRepos:d.public_repos||0}}catch(a){return console.error("Error fetching GitHub user stats:",a),{repositories:25,followers:150,following:75,publicRepos:25}}}generateMockData(s=2025){const a=[],d=new Date(s,0,1),C=new Date(s,11,31),v=new Date;let k=0;for(let u=new Date(d);u<=C;u.setDate(u.getDate()+1)){const w=u.getDay(),j=w===0||w===6,p=u.getMonth(),y=u>v;let h=0;y||(j?h=Math.random()>.8?Math.floor(Math.random()*5):0:s===2025&&p<=v.getMonth()?h=Math.random()>.3?Math.floor(Math.random()*12)+1:0:h=Math.random()>.5?Math.floor(Math.random()*8):0,k+=h),a.push({date:u.toISOString().split("T")[0],count:h})}return{contributions:a,totalContributions:k}}}const J=new z,B=({username:g,year:s=2025})=>{const[a,d]=x.useState([]),[C,v]=x.useState(0),[k,u]=x.useState(!0),[w,j]=x.useState(null),p=n=>n===0?0:n<=3?1:n<=6?2:n<=9?3:4,y=n=>["#ffffff","#c8d5b9","#a3b88c","#8d6e63","#5d4037"][n];x.useEffect(()=>{(async()=>{try{u(!0),j(null);const e=void 0;console.log("GitHub token available:",!!e,"Length:",e==null?void 0:e.length),console.log("Fetching GitHub data for:",g,"year:",s);const o=await J.fetchContributions(g,s);console.log("GitHub data received:",{totalContributions:o.totalContributions,contributionsCount:o.contributions.length,firstContribution:o.contributions[0],lastContribution:o.contributions[o.contributions.length-1]});const i=o.contributions.filter(c=>c.date.includes("2025")&&c.count>0);console.log("2025 contributions found:",i.length,i.slice(0,5));const D=o.contributions.map(c=>({...c,level:p(c.count)}));d(D),v(o.totalContributions)}catch(e){j("Failed to fetch GitHub contributions"),console.error("Error fetching contributions:",e);const o=h();d(o.contributions),v(o.total)}finally{u(!1)}})()},[g,s]);const h=()=>{const n=[],e=new Date(s,0,1),o=new Date(s,11,31),i=new Date;let D=0;for(let c=new Date(e);c<=o;c.setDate(c.getDate()+1)){const M=c.getDay(),A=M===0||M===6;c.getMonth();const P=c>i;let f=0;P||(A?f=Math.random()>.8?Math.floor(Math.random()*5):0:s===2025?f=Math.random()>.3?Math.floor(Math.random()*12)+1:0:f=Math.random()>.5?Math.floor(Math.random()*8):0,D+=f),n.push({date:c.toISOString().split("T")[0],count:f,level:p(f)})}return{contributions:n,total:D}},T=n=>{var I,H,G;const e=[],o=[...n].sort((N,E)=>new Date(N.date).getTime()-new Date(E.date).getTime());console.log("Grouping contributions:",{totalContributions:o.length,firstDate:(I=o[0])==null?void 0:I.date,lastDate:(H=o[o.length-1])==null?void 0:H.date});const i=new Map;o.forEach(N=>{i.set(N.date,N)});const D=2025,c=new Date(D,0,1),M=new Date(c);M.setDate(M.getDate()-c.getDay());const A=new Date(D,11,31),P=new Date(A);P.setDate(P.getDate()+(6-A.getDay())),console.log("Date range:",{startDate:M.toISOString().split("T")[0],endDate:P.toISOString().split("T")[0],jan1Day:c.getDay()});let f=new Date(M),S=[];for(;f<=P;){const N=f.toISOString().split("T")[0],E=i.get(N);E?S.push(E):S.push({date:"",count:0,level:0}),S.length===7&&(e.push(S),S=[]),f.setDate(f.getDate()+1)}if(S.length>0){for(;S.length<7;)S.push({date:"",count:0,level:0});e.push(S)}return console.log("Generated weeks:",e.length,"First week:",(G=e[0])==null?void 0:G.map(N=>N.date||"empty")),e};if(k)return t.jsx("div",{className:"w-full p-6 border border-gray-800 rounded-lg",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-700 rounded w-48 mb-4"}),t.jsx("div",{className:"grid grid-cols-53 gap-1",children:Array.from({length:371}).map((n,e)=>t.jsx("div",{className:"w-3 h-3 bg-gray-700 rounded-sm"},e))})]})});if(w)return t.jsx("div",{className:"w-full p-6 border border-red-500 rounded-lg text-red-400",children:t.jsx("p",{children:w})});const r=T(a),m=["S","M","T","W","T","F","S"];return t.jsxs(b.div,{className:"w-full p-6 border border-gray-800 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["GitHub Contributions ",s]}),t.jsxs("p",{className:"text-sm opacity-70",children:[C," contributions in ",s]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("div",{className:"inline-block min-w-full",children:[t.jsxs("div",{className:"flex mb-2 gap-1",style:{marginLeft:"28px"},children:[" ",r.map((n,e)=>{const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=Math.floor(e/4.3),D=e%Math.ceil(52/12)===0&&i<12;return t.jsx("div",{className:"w-3 flex-shrink-0 text-xs opacity-60 text-center",style:{minWidth:"12px"},children:D?o[i]:""},e)})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs("div",{className:"flex flex-col gap-1 mr-2",style:{marginTop:"-16px"},children:[t.jsx("div",{className:"h-3"})," ",m.map((n,e)=>t.jsxs("div",{className:"h-3 text-xs opacity-60 flex items-center justify-center",style:{fontSize:"10px",width:"12px"},children:[e===1||e===3||e===5?n:""," "]},`${n}-${e}`))]}),r.map((n,e)=>t.jsx("div",{className:"flex flex-col gap-1",children:n.map((o,i)=>t.jsx(b.div,{className:"w-3 h-3 rounded-sm cursor-pointer",style:{backgroundColor:o.date?y(o.level):"transparent"},initial:{scale:0},animate:{scale:1},transition:{duration:.2,delay:(e*7+i)*.002},whileHover:{scale:o.date?1.2:1,transition:{duration:.1}},title:o.date?`${o.date}: ${o.count} contributions (${new Date(o.date).toLocaleDateString()})`:"Empty slot"},`${e}-${i}`))},e))]})]})}),t.jsxs("div",{className:"flex items-center justify-between mt-4 text-xs opacity-60",children:[t.jsx("span",{children:"Less"}),t.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(n=>t.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:y(n)}},n))}),t.jsx("span",{children:"More"})]})]})},l=[{id:"predictive-analytics-dashboard",title:"Predictive Analytics Dashboard",description:"An interactive dashboard for retail sales forecasting using machine learning. Features Random Forest Regressor with custom predictions and feature importance visualizations.",tags:["Python","Streamlit","Scikit-learn","Pandas","Matplotlib"],number:"01"},{id:"stock-market-prediction-ml",title:"Stock Market Prediction ML",description:"Comprehensive machine learning system for predicting stock price movements with 60+ technical indicators, multiple ML models, and automated data collection via Yahoo Finance API.",tags:["Python","Scikit-learn","yfinance","NumPy","Pandas","Machine Learning"],number:"02"},{id:"blinking-eyes-tft",title:"Blinking Eyes on ESP32-S3 T-Display",description:"Animated eye-blinking system on LILYGO ESP32-S3 with adjustable spacing, blink speed, mood-based color shifts, and pupil tracking via serial control.",tags:["C++","Arduino","TFT_eSPI","Adafruit ST7789","ESP32"],number:"03"},{id:"passport-buddy-flutter",title:"Passport Buddy - Social Travel Platform",description:"Enterprise-grade social travel platform with real-time flight tracking, automated boarding pass OCR, and travel analytics. Collaborative group project focusing on mobile development.",tags:["Flutter","React","Node.js","MongoDB","Socket.io","TypeScript"],number:"04"}];function V(){const[g,s]=x.useState(l.length),[a,d]=x.useState(!0),[C,v]=x.useState(0),[k,u]=x.useState(null),[w,j]=x.useState(!1),p=100,y=[...l,...l,...l];x.useEffect(()=>{if(!a)return;const r=setInterval(()=>{s(m=>{const n=m+1;return n>=l.length*2?l.length:n})},8e3);return()=>clearInterval(r)},[a]);const h=r=>{r.preventDefault(),d(!1),v(m=>{const n=m+r.deltaY;if(Math.abs(n)>=p){const e=n>0?1:-1;return s(o=>{let i=o+e;return i<0?i=l.length*3-1:i>=l.length*3&&(i=0),i}),0}return n}),setTimeout(()=>d(!0),3e3)},T=r=>{d(!1),s(l.length+r),setTimeout(()=>d(!0),3e3)};return t.jsxs(t.Fragment,{children:[t.jsx(R,{pageTitle:"Projects",pageDescription:"A collection of projects Devon Villalona has built, showcasing skills in machine learning, embedded systems, full-stack development, and creative programming solutions."}),t.jsx("div",{className:"flex flex-col min-h-dvh p-8 pt-24",children:t.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[t.jsxs(b.div,{className:"mb-12 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},onAnimationComplete:()=>j(!0),children:[t.jsx("h1",{className:"about-head mb-4",children:w?t.jsx(L,{text:"PROJECTS",delay:300,speed:100}):t.jsx("span",{style:{opacity:0},children:"PROJECTS"})}),t.jsx("p",{className:"text-lg text-white mb-6",children:"A collection of individual and collaborative projects spanning machine learning, embedded systems, mobile development, and full-stack web applications."}),t.jsx("p",{className:"text-sm text-white",children:"Scroll or use mouse wheel to navigate • Auto-advancing every 8 seconds"})]}),t.jsx("div",{className:"relative overflow-hidden",onWheel:h,children:t.jsx(b.div,{className:"flex",animate:{x:`${-g*100}%`},transition:{type:"spring",stiffness:200,damping:25,mass:.8},children:y.map((r,m)=>{const n=m%l.length,e=k===n;return t.jsx(b.div,{className:"w-full flex-shrink-0 px-4",onMouseEnter:()=>u(n),onMouseLeave:()=>u(null),children:t.jsx(b.div,{className:"relative overflow-hidden",animate:{scale:e?1.02:1},transition:{duration:.5,ease:[.19,1,.22,1]},children:t.jsx(W,{to:`/project/${r.id}`,className:"group relative block p-8 border border-gray-800 hover:border-[var(--tertiary)] transition-all duration-500 hover:shadow-2xl rounded-lg h-[400px] flex flex-col z-20",children:t.jsxs("div",{className:"flex items-start gap-6 h-full",children:[t.jsx(b.div,{className:"w-16 flex-shrink-0",whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:t.jsx("span",{className:"project-num text-2xl font-light text-white",children:r.number})}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx(b.h2,{className:"project-name group-hover:text-[var(--tertiary)] transition-colors mb-4 text-2xl relative z-30",animate:{x:e?10:0},transition:{duration:.3},children:e?t.jsx(L,{text:r.title,speed:50}):r.title}),t.jsx("p",{className:"text-lg mb-6 text-white flex-1",children:r.description}),t.jsx("div",{className:"flex flex-wrap gap-3 relative z-30",children:r.tags.map((o,i)=>t.jsx(b.span,{className:"project-tags text-sm px-4 py-2 bg-gray-800 text-white rounded-full",initial:{opacity:0,scale:.8},animate:{opacity:e?[.7,1,.9]:.7,scale:e?[.8,1.1,1]:.8,backgroundColor:e?"var(--tertiary)":"rgb(31, 41, 55)",color:e?"var(--main)":"#ffffff"},transition:{duration:.4,delay:i*.1,ease:"easeOut"},children:o},o))})]})]})})})},`${r.id}-${Math.floor(m/l.length)}`)})})}),t.jsx("div",{className:"flex justify-center mt-8 gap-3",children:l.map((r,m)=>{const n=(g%l.length+l.length)%l.length;return t.jsx("button",{onClick:()=>T(m),className:`w-3 h-3 rounded-full transition-all duration-300 ${n===m?"bg-[var(--tertiary)] scale-125":"bg-gray-600 hover:bg-gray-400"}`},m)})}),t.jsx("div",{className:"w-full bg-gray-800 h-1 mt-4 rounded-full overflow-hidden",children:t.jsx(b.div,{className:"h-full bg-[var(--tertiary)]",animate:{width:`${((g%l.length+l.length)%l.length+1)/l.length*100}%`},transition:{duration:.3}})}),t.jsx(b.div,{className:"mt-16 pt-12 border-t border-gray-800",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:t.jsx(B,{username:"Devonav"})})]})})]})}export{V as default};
